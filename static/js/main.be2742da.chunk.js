(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{18:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c.n(r),i=c(20),a=c.n(i),s=c(9),o=c(2),j=c(22),u=c(17),l=c(7),b=c(1),d=n.a.createContext();function O(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),n=c[0],i=c[1],a=Object(r.useState)([]),s=Object(l.a)(a,2),o=s[0],O=s[1];return Object(r.useEffect)((function(){fetch("https://raw.githubusercontent.com/bobziroll/scrimba-react-bootcamp-images/master/images.json").then((function(e){return e.json()})).then((function(e){return i(e)}))}),[]),Object(b.jsx)(d.Provider,{value:{allPhotos:n,toggleFavorite:function(e){var t=n.map((function(t){return t.id===e?Object(u.a)(Object(u.a)({},t),{},{isFavorite:!t.isFavorite}):t}));i(t)},cartItems:o,addCartItems:function(e){O((function(t){return[].concat(Object(j.a)(t),[e])}))},removeFromCart:function(e){O((function(t){return t.filter((function(t){return t.id!==e}))}))},emptyCart:function(){O([])}},children:e.children})}c(18);var m=function(){var e=Object(r.useContext)(d).cartItems;return Object(b.jsxs)("header",{children:[Object(b.jsx)(s.b,{to:"/",children:Object(b.jsx)("h2",{children:"Pixel Lite"})}),Object(b.jsx)(s.b,{to:"/cart",children:0!==e.length?Object(b.jsx)("i",{className:"ri-shopping-cart-fill ri-fw ri-2x"}):Object(b.jsx)("i",{className:"ri-shopping-cart-line ri-fw ri-2x"})})]})};var h=function(e){var t=e.item,c=Object(r.useState)(!1),n=Object(l.a)(c,2),i=(n[0],n[1],Object(r.useContext)(d).removeFromCart);return Object(b.jsxs)("div",{className:"cart-item",children:[Object(b.jsx)("i",{className:"ri-delete-bin-line",onClick:function(){return i(t.id)}}),Object(b.jsx)("img",{src:t.url,width:"130px"}),Object(b.jsx)("p",{children:"$5.99"})]})};var x=function(){var e=Object(r.useState)("Place Order"),t=Object(l.a)(e,2),c=t[0],n=t[1],i=Object(r.useContext)(d),a=i.cartItems,s=i.emptyCart,o=a.map((function(e){return Object(b.jsx)(h,{item:e},e.id)})),j=(5.99*a.length).toLocaleString("en-US",{style:"currency",currency:"USD"});return Object(b.jsxs)("main",{className:"cart-page",children:[Object(b.jsx)("h1",{children:"Your Photos"}),o,Object(b.jsxs)("p",{className:"total-cost",children:["Total:",j]}),Object(b.jsx)("div",{className:"order-button",children:a.length>0?Object(b.jsx)("button",{onClick:function(){n("Ordering..."),setTimeout((function(){n("Place Order"),s()}),3e3)},children:c}):Object(b.jsx)("h3",{children:"Your cart is empty"})})]})};var f=function(e){var t=e.className,c=e.img,n=Object(r.useState)(!1),i=Object(l.a)(n,2),a=i[0],s=i[1],o=Object(r.useContext)(d),j=o.toggleFavorite,u=o.addCartItems,O=o.cartItems,m=o.removeFromCart;return Object(b.jsxs)("div",{className:"".concat(t," image-container"),onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:[Object(b.jsx)("img",{src:c.url,className:"image-grid"}),c.isFavorite?Object(b.jsx)("i",{className:"ri-heart-fill favorite",onClick:function(){return j(c.id)}}):a?Object(b.jsx)("i",{className:"ri-heart-line favorite",onClick:function(){return j(c.id)}}):void 0,O.some((function(e){return e.id===c.id}))?Object(b.jsx)("i",{className:"ri-shopping-cart-fill cart",onClick:function(){return m(c.id)}}):a?Object(b.jsx)("i",{className:"ri-add-circle-line cart",onClick:function(){return u(c)}}):void 0]})};function v(e){return e%5===0?"big":e%6===0?"wide":void 0}var p=function(){var e=Object(r.useContext)(d).allPhotos.map((function(e,t){return Object(b.jsx)(f,{img:e,className:v(t)},e.id)}));return Object(b.jsx)("main",{className:"photos",children:e})};var g=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(m,{}),Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{exact:!0,path:"/",children:Object(b.jsx)(p,{})}),Object(b.jsx)(o.a,{path:"/cart",children:Object(b.jsx)(x,{})})]})]})};a.a.render(Object(b.jsx)(O,{children:Object(b.jsx)(s.a,{children:Object(b.jsx)(g,{})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.be2742da.chunk.js.map